01. 스텝 모터의 구조 & 원리

- 미세하고 정확한 것을 간단하게 실현할 수 있는 모터

- 시계의 초침과 같이 일정 각도만큼 회전

![image](https://user-images.githubusercontent.com/87634136/173965336-07080c75-3312-4717-ae0d-7ff4b92c73fe.png)

- 고정자 (스테이터) : 코일에 감겨 고정된 부분

- 로터 (회전자) : 중심부에 위치, 회전하는 부분

![image](https://user-images.githubusercontent.com/87634136/173965364-cab2c447-1f50-42a3-ab8d-5b4cff11180e.png)

- 회전속도는 입력 펄스 신호의 주파수에 비례

- 구동 시키려면 -> 모터는 몇 상 모터인지, 어떤 여자 방식을 이용하여 동작 시킬 것인지를 고려



02. 스텝모터의 종류

(유니폴라)

- 유니폴라 : 모터의 코일에 흐르는 전류가 항상 한쪽 방향으로만 흐르는 구동 방식 (모터의 전류 방향이 항상 일정)

![image](https://user-images.githubusercontent.com/87634136/173965386-e65878c0-792f-4039-b2d4-ada2a9c768ff.png)

![image](https://user-images.githubusercontent.com/87634136/173965403-4858c70c-793f-436b-a292-246717094d70.png)

- 장점 : 고속으로 구동 시 토크가 높아 탈조될 위험이 적어서 고속회전에 용이, 비교적 구동회로가 간단

- 단점 : 모터 코일에 저장된 에너지를 희생하지 않으므로 효율이 안좋음, 저속에서 구동 시 토키가 바이폴라에 비해 적음


(바이폴라)

- 바이폴라 : 모터의 코일에 흐르는 전류가 방향이 바뀌는 구동 방식 (모터의 전류 방향이 변함)

![image](https://user-images.githubusercontent.com/87634136/173965430-5b64ee7b-62d3-4c2b-97fb-e8e3e37e007f.png)

- 장점 : 저속 구동 시 토크가 높음, 코일에 저장된 전류가 희생되어 효율이 높음 

- 단점 : 고속 구동 시 토크가 급격하게 저하되어 탈조가 발생할 우려가 있음, 구도 회로의 구성이 복잡함



03. 스텝 모터의 구동 방식

(1상 여자 방식)

- 1개의 코일을 차례로 여자하는 방식

- 하나의 상에만 전류를 흐르게 하는 방식

- 입력 상이 1상 뿐이므로 모터의 온도 상승이 낮음

![image](https://user-images.githubusercontent.com/87634136/173965474-8137dae1-f555-4e72-a549-d589b2c98246.png)

- 4,3,2,1 회전을 하면 => 시계 방향 / 1,2,3,4 회전을 하면 => 반시계 방향

- 4번에 신호가 있을 때는 3, 2, 1에는 신호를 보내지 않음

- 다음 타이밍에 4번에 신호를 빼고 3번만 신호를 넣음

- 이런 식으로 1번까지 신호를 넣고 나면 다시 4번 코일에 신호를 넣음 

​

(2상 여자 방식)

- 2개의 코일을 동시에 여자 하는 방식

- 1상보다 전류가 2배 필요함

- 일반적으로 많이 사용함

![image](https://user-images.githubusercontent.com/87634136/173965506-dd19f551-966c-4c1a-b7db-2054ab66f87e.png)

- 4-3번 코일에 전류를 주고, 다음 스텝에서는 3-2번이 여자 되고, 다음 스텝에서는 2-1번이 여자, 그리고 1-4번이 여자 되면서 한 바퀴 회전에 되는 구동 방식


(1-2상 여자 방식)

- 1개의 코일을 차례로 여자 하는 방식

- 하나의 상에만 전류를 흐르게 하는 방식

- 입력이 1상 뿐이므로 모터의 온도 상승이 낮음

![image](https://user-images.githubusercontent.com/87634136/173965524-3fe20272-8176-47be-be49-49d733e7a2d9.png)

- 첫 스텝에 4번 코일이 여자 되고, 그 다음 스텝에는 4-3번 코일이 동시에 여자 되면서 로터 회전축이 두 개의 코일 사이에 위치 할 수 있게 되고, 다음 스텝에서 3번 코일에만 여자 상태를 유지시키게 됨

- 이런 방식으로 회전각을 더 작게 회전 시킬 수 있음



04. 스텝 모터 모듈

![image](https://user-images.githubusercontent.com/87634136/173965548-68094f1a-6612-4207-9422-5fdec428e8e2.png)


05. 스텝 모터 방식의 포트 값 & 펄스

![image](https://user-images.githubusercontent.com/87634136/173965560-801e76e8-4c60-48f5-ab4a-7d9432cc0288.png)


06. 스텝모터 28BYJ–48

![image](https://user-images.githubusercontent.com/87634136/173965576-12bc33bf-b321-4da9-8b4d-0038f7bf83a9.png)

07. 초음파 센서의 원리

![image](https://user-images.githubusercontent.com/87634136/173965593-0db19e6a-55f2-403d-a42b-a70e331cf348.png)

- 1cm 이동하는데 걸리는 시간 : 58us


 <동작 순서>

1.초음파 센서의 Trigger 입력으로 10us의 펄스 입력

2.초음파 센서에서는 40KHz의 초음파를 8번 연속해서 발생

3.초음파 발생 직후 Echo 출력을 High로 설정(자동으로 설정됨)

4.반사된 초음파를 수신하면 Echo 출력을 Low로 설정

5.Echo 출력의 펄스폭을 주어진 공식으로 계산하여 거리를 구함



08. 초음파 센서 거리측정

![image](https://user-images.githubusercontent.com/87634136/173965613-1246b208-d2b5-4057-bdfa-946dd3f82536.png)


09. 초음파 센서 HC-SR04

![image](https://user-images.githubusercontent.com/87634136/173965629-ddea014e-dff7-4657-b84e-e1cca0703f87.png)

